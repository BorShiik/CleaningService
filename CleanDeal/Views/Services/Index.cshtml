@model CleanDeal.ViewModel.ServiceIndexViewModel
@{
    ViewData["Title"] = "Usługi";
    var pl = System.Globalization.CultureInfo.GetCultureInfo("pl-PL");
}

<section class="section dark-background py-5">
    <div class="container text-center text-white">
        <h1 class="fw-bold mb-0">Nasze usługi</h1>
        <p class="opacity-75">Saldo punktów: @Model.LoyaltyPoints</p>
    </div>
</section>

<section class="section">
    <div class="container" data-aos="fade-up">
        <h2 class="mb-3">Dostępne usługi</h2>
        <div class="table-responsive">
            <table class="table table-hover align-middle">
                <thead class="table-light">
                    <tr>
                        <th>Nazwa</th>
                        <th>Cena</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var s in Model.ServiceTypes)
                    {
                        <tr>
                            <td>@s.Name</td>
                            <td>@s.BasePrice.ToString("c", pl)</td>
                            <td>
                                @if (User.Identity?.IsAuthenticated == true)
                                {
                                    <form asp-action="PurchaseDiscount" method="post" class="d-inline">
                                        <input type="hidden" name="id" value="@s.Id" />
                                        <button type="submit" class="btn btn-sm btn-primary">Kup zniżkę 10% (100 pkt)</button>
                                    </form>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</section>

<section class="section bg-light">
    <div class="container" data-aos="fade-up">
        <h2 class="mb-3">Pakiety kompleksowe</h2>
        <div class="table-responsive">
            <table class="table table-hover">
                <thead class="table-light">
                    <tr>
                        <th>Nazwa</th>
                        <th>Opis</th>
                        <th>Cena</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var p in Model.Packages)
                    {
                        <tr>
                            <td>@p.Name</td>
                            <td>@p.Description</td>
                            <td>@p.Price.ToString("c", pl)</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</section>